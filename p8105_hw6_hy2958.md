p8105_hw6_hy2958
================
2025-11-30

``` r
library(tidyverse)
```

    ## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
    ## ✔ dplyr     1.1.4     ✔ readr     2.1.5
    ## ✔ forcats   1.0.0     ✔ stringr   1.5.1
    ## ✔ ggplot2   3.5.2     ✔ tibble    3.3.0
    ## ✔ lubridate 1.9.4     ✔ tidyr     1.3.1
    ## ✔ purrr     1.1.0     
    ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
    ## ✖ dplyr::filter() masks stats::filter()
    ## ✖ dplyr::lag()    masks stats::lag()
    ## ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors

``` r
homicide = read_csv("./homicide-data.csv") %>% 
  mutate(city_state = str_c(city, ", ", state)) %>% 
  mutate(resolved = if_else(disposition == "Closed by arrest", 1, 0)) %>% 
  filter(!city_state %in% c("Dallas, TX",
  "Phoenix, AZ",
  "Kansas City, MO",
  "Tulsa, AL")) %>%
  filter(victim_race %in% c("White", "Black")) %>% 
  mutate(victim_age = as.numeric(victim_age))
```

    ## Rows: 52179 Columns: 12
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (9): uid, victim_last, victim_first, victim_race, victim_age, victim_sex...
    ## dbl (3): reported_date, lat, lon
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

    ## Warning: There was 1 warning in `mutate()`.
    ## ℹ In argument: `victim_age = as.numeric(victim_age)`.
    ## Caused by warning:
    ## ! NAs introduced by coercion

``` r
#problem 1
baltimore <- homicide %>% 
  filter(city_state == "Baltimore, MD")

fit_baltimore <- glm(
resolved ~ victim_age + victim_sex + victim_race,
data = baltimore, family = binomial()
) %>% 
  broom::tidy(conf.int = TRUE)


fit_baltimore %>%
filter(term == "victim_sexMale") %>%
select(term, estimate, conf.low, conf.high) %>% 
knitr::kable()
```

| term           |   estimate |  conf.low |  conf.high |
|:---------------|-----------:|----------:|-----------:|
| victim_sexMale | -0.8544628 | -1.126423 | -0.5842017 |
